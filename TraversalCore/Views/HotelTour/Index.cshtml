@using Entity.Concrete
@model List<HotelTour>
@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_UILayout.cshtml";
}
<html lang="en">
<head>
    <style>
        #body {
        }

        #fillter {
            height: 120px;
        }

        #inputFilter {
            background-color: #f9f9f9;
            height: 70px;
            width: 243px;
            padding: 12px 20px;
            margin-left: 8px;
            margin-top: 8px;
            border-radius: 5px;
            font-family: 'Times New Roman', Times, serif;
            font-size: 17px;
        }

            #inputFilter:focus {
                border: 1px solid #ff3131;
            }

        .button {
            background-color: red;
            color: white;
            border: 1px solid #ff3131;
            padding: 8px 18px;
        }

            .button:hover {
                background-color: #ff3131;
                color: white;
            }

        .button2 {
            background-color: white;
            border:1px solid red;
            color: red;
            padding: 8px 18px;
            border-radius: 18px;
        }

            .button2:hover {
                background-color: #ff3131;
                box-shadow: 0px 0px 10px red;
                color: white;
            }

        .button1 {
            background-color: red;
            color: white;
            padding: 8px 18px;
            border-radius: 60px;
        }

        .buttonara {
            background-color: white;
            border: 1px solid red;
            color: red;
            top: 10px;
            width: 180px;
            position: relative;
            height: 30px;
            padding: 5px;
            border-radius: 18px;
        }

            .buttonara:hover {
                background-color: #ff3131;
                box-shadow: 0px 0px 10px red;
                color: white;
            }

        .buttonsil {
            background-color: white;
            border: 1px solid red;
            color: red;
            top: 10px;
            position: relative;
            padding: 5px;
            border-radius: 60px;
            width: 60px;
            height: 30px;
        }

            .buttonsil:hover {
                background-color: #ff3131;
                box-shadow: 0px 0px 10px red;
                color: white;
            }
    </style>
</head>

<body id="body" class="">
@*     <div class="alert alert-warning alert-common alert-dismissible text-center" role="alert">
        <button type="button" class="close text-center" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">×</span></button>
        <a>
            <span style="font-weight: bold; font-family: 'Times New Roman', Times, serif"> Tatil Planımla </span>
        </a><br />
        <a class="text-center" style="font-family: 'Times New Roman', Times, serif">
            Keşfetmeye<span> Hazır Olun </span>, Tatilinizi Biz Planlayalım
        </a>
    </div> *@
    <section class="products section">
        <div class="container" id="cardsContainer">
            <div class="row">
                <div class="col-md-3">
                    <div class="widget product-category">
                        <div class="panel-group commonAccordion">
                            <div class="panel panel-default">
                                <div class="card" id="fillter">
                                    <h4 class="panel-title">
                                        <a style="font-family: 'Times New Roman', Times, serif; font-weight: bold">
                                            Otel Adı
                                        </a>
                                    </h4>
                                    <input id="inputFilter" placeholder="Otel adı ile arayın..." type="text" /><br />
                                </div>
                            </div>
                        </div>
                        <div class="panel-group commonAccordion">
                            <div class="panel panel-default">
                                <div class="card" id="fillter">
                                    <h4 class="panel-title">
                                        <a style="font-family: 'Times New Roman', Times, serif; font-weight: bold">
                                            Fiyat ARALIĞI...
                                        </a>
                                        <label for="minPrice">Min Fiyat:</label>
                                        <input type="number" id="minPrice" placeholder="Min Fiyat" />

                                        <label for="maxPrice">Max Fiyat:</label>
                                        <input type="number" id="maxPrice" placeholder="Max Fiyat" />

                                        <button style="border:1px solid red;" class="buttonara" onclick="filterByPrice()">Fiyata Göre Filtrele</button>
                                        <button class="buttonsil" onclick="resetFilter()"> Sıfırla</button>
                                    </h4>
                                </div>
                            </div>
                        </div>
                    </div>
                 
                </div>
                <div class="col-md-9 ">
                    <div class="card" style="position:relative;top:-40px;">
                        <a href="/Destination/DestinationDetail/">
                            <img src="https://seturcdn-res.cloudinary.com/image/upload/q_auto/f_auto/v1655405626/%C3%9Cr%C3%BCn%20Listeleme/Otel/Bodrum%20Otelleri/Kempinski_Bodrum_mb1r8h.jpg" style="width:848px;height:280px;" class="card-img-top" alt="...">
                        </a>
                    </div>
                    <br /><br />
                    <div style="position:relative;top:-50px;">
                        <h4 style="font-family: 'Franklin Gothic Medium'">Antalya Otelleri Fiyatları ve Rezervasyon Fırsatları</h4>
                        <small>
                            Ana Sayfa > Antalya Otelleri ve En Uygun Antalya Otel Fiyatları
                        </small><br /><br />
                        <a href="#" class="button1"><i style="color:white" class="tf-ion-alert-circled"></i></a>
                        <a href="#" class="button2 ">Popüler</a>
                        <a href="#" onclick="sortAscending()" class="button2 ">Fiyata Göre (Artan)</a>
                        <a href="#" onclick="sortDescending()" class="button2 ">Fiyata Göre (Azalan)</a>
                    </div>

                    @foreach (var item in Model)
                    {
                        <div class="card" id="cardsContainer" style="background-color:white;border:2px solid lightgray;border-radius:20px;height:100%;box-shadow: 0px 0px 10px lightgray">
                            <div class="col-md-4">
                                <div class="card-body  single-product-slider">
                                    <div id='carousel-custom' style="height:100%;" class='carousel slide ' data-ride='carousel'>
                                        <div class='carousel-outer'>
                                            <div class='carousel-inner' style="position:relative;left:-16px;">
                                                <div class='item active'>
                                                    <img src='@item.Image1' style="height:200px;width:250px;border-radius:20px;" alt='' />
                                                </div>
                                                <div class='item'>
                                                    <img style="height:200px;width:250px;border-radius:20px;" src='@item.Image2' />
                                                </div>

                                                <div class='item'>
                                                    <img style="height:200px;width:250px;border-radius:20px;" src='@item.Image3' alt='' />
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-5">
                                    <div class="row" style="position:relative;top:15px;">
                                        <div class="card-body">
                                            <a style="font-family: 'Franklin Gothic Medium'">
                                                <svg style="color:#ff3131" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-geo-alt-fill" viewBox="0 0 16 16">
                                                    <path d="M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10zm0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6z" />
                                                </svg>@item.Citydistrict,@item.City
                                            </a>
                                        </div>
                                    </div><br />
                                    <h4 class="card-title"><b style="font-family: 'Franklin Gothic Medium';font-size:21px;">@item.HotelName </b></h4>
                                    <p class="card-text" style="font-family: 'Franklin Gothic Medium'">
                                        @item.Explanation
                                    </p>
                                    <small><i style="color: #ff3131" class="tf-ion-checkmark"></i>@item.HotelFeatures1</small><br />
                                    <small><i style="color: #ff3131" class="tf-ion-checkmark"></i>@item.HotelFeatures2</small><br />
                                </div>
                                <div class="col-md-2">
                                    <div class="card" >
                                        <div class="price-details text-center" style="position:relative;top:100px;">
                                            <h3 class="price" style="font-size:25px;position:relative;left:40px;top:-50px;font-family:Lucida Console,Courier New,monospace;font-weight:bold">
                                                @item.Price ₺ <br />
                                            </h3>
                                            <small style="position:relative;left:40px;top:-50px;">Başlayan Fiyatlarla</small><br /><br />
                                            <a href="/HotelTour/HotelTourDetail/@item.Id" class="button " style="left:40px;position:relative;top:-50px;box-shadow: 0px 0px 10px red">Ayrıntılar</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <br />
                    }
                </div>
            </div>
        </div>
    </section>
</body>
</html>
<script src="https://code.jquery.com/jquery-3.7.0.slim.js"
        integrity="sha256-7GO+jepT9gJe9LB4XFf8snVOjX3iYNb0FHYr5LI1N5c="
        crossorigin="anonymous"></script>




<script>
    $(function () {
        $("#inputFilter").on("keyup", function () {
            var name = $(this).val().toLowerCase();
            $("#aaa ").filter(function () {
                $(this).toggle($(this).text().toLowerCase().indexOf(name) > -1);
            });
        });
    });

    function sortAscending() {
        let prices = getHotelPrices();
        prices.sort((a, b) => a - b);
        updateUIWithSortedPrices(prices);
    }

    function sortDescending() {
        let prices = getHotelPrices();
        prices.sort((a, b) => b - a);
        updateUIWithSortedPrices(prices);
    }

    function getHotelPrices() {
        let priceElements = document.querySelectorAll('.price-details h3');
        let prices = Array.from(priceElements).map(element => {
            return parseInt(element.innerText.trim());
        });
        return prices;
    }

    function updateUIWithSortedPrices(prices) {
        let priceElements = document.querySelectorAll('.price-details h3');
        prices.forEach((price, index) => {
            priceElements[index].innerText = price + ' TL';
        });
    }


    function filterByPrice() {
        var cardsContainer = document.getElementById('cardsContainer');
        var products = cardsContainer.querySelectorAll('.card');

        var minPrice = parseFloat(document.getElementById('minPrice').value) || 0;
        var maxPrice = parseFloat(document.getElementById('maxPrice').value) || Number.MAX_SAFE_INTEGER;

        for (var i = 0; i < products.length; i++) {
            var productPrice = parseFloat(products[i].querySelector('.price').innerText);
            if (productPrice >= minPrice && productPrice <= maxPrice) {
                products[i].style.display = 'block';
            } else {
                products[i].style.display = 'none';
            }
        }
    }

    function resetFilter() {
        var cardsContainer = document.getElementById('cardsContainer');
        var products = cardsContainer.querySelectorAll('.card');

        for (var i = 0; i < products.length; i++) {
            products[i].style.display = 'block';
        }

        document.getElementById('minPrice').value = '';
        document.getElementById('maxPrice').value = '';
    }
</script>